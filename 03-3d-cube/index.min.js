var e=a.height,r=a.width,t=0,l=Math.sin,m=Math.cos,o=128;for(M=((i,a)=>i.map(i=>a[0].map((i,e)=>a.map(i=>i[e])).map(a=>i.map((e,r)=>i[r]*a[r]).reduce((i,a)=>i+a)))),dt=((i,a)=>i.reduce((i,e,r)=>i+(e-a[r])**2,0)),P=[],i=c.lineWidth=8;i--;)P.push([i%2,i%4<2?0:1,i%8<4?0:1].map(i=>2*i-1));(L=(()=>{t+=.03;var a=i=>{var a=M([[m(t),0,-l(t)],[0,1],[l(t),0,m(t)]],M([[m(t/4),-l(t/4)],[l(t/4),m(t/4)],[0,0,1]],i.map(i=>[i])));return M([[z=1/(8+l(t/2)-a[2])],[0,z]],a).map(i=>i[0]*r)};for(c.strokeStyle=c.fillStyle="rgba(0,0,0,0.1)",c.fillRect(-r,-e,2*r,2*e),c.fillStyle=`rgb(${l(2*t)*o+o},${m(t)*o+o},${l(t)*o+o},0.5)`,j=3;j--;)for(c.setTransform(1,0,0,1,r/8*l(t)+j*r/2,e/3+r/8*m(t)**2),i=6;i--;)c.beginPath(),P.sort(a=>a[i/2]).slice(i%2*4,4+i%2*4).map((i,e)=>(i=a(i),e?c.lineTo(i[0],i[1]):c.moveTo(i[0],i[1]))),c.closePath(),c.fill(),c.stroke();requestAnimationFrame(L)}))();
